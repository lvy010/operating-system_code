# 定时器应用场景测试项目

这个项目演示了四种不同的定时器应用场景，展示了在实际嵌入式系统中如何使用定时器机制。

## 应用场景说明

### 1. 心率监测（周期性定时器）
- **机制**: 固定间隔的线程循环
- **特点**: 每秒读取一次生物传感器数据
- **应用**: 医疗设备、健康监测

### 2. 设备固件升级（单次定时+状态机）
- **机制**: 分离线程+状态检查
- **特点**: 30秒超时机制，状态机管理升级过程
- **应用**: 设备固件更新、OTA升级

### 3. 室内定位系统（多定时器协同）
- **机制**: 不同间隔的独立线程
- **特点**: 多个设备以不同频率报告位置
- **应用**: 室内导航、资产追踪

### 4. 低功耗传感器（定时唤醒）
- **机制**: 模拟电源状态切换
- **特点**: 周期性唤醒-睡眠循环
- **应用**: 电池供电的IoT设备

## 编译和运行

### 编译项目
```bash
make
```

### 运行测试
```bash
make run
```

### 清理编译文件
```bash
make clean
```

## 预期输出

程序运行后会依次展示：

1. **心率监测**: 每秒输出一次心率数据（60-100 bpm）
2. **固件升级**: 显示升级进度和超时机制
3. **多设备定位**: 不同设备以不同频率报告位置
4. **低功耗传感器**: 模拟唤醒-睡眠循环

## 技术要点

- 使用 `std::thread` 实现多线程定时器
- 使用 `std::chrono` 进行精确时间控制
- 使用 `std::this_thread::sleep_for()` 实现定时延迟
- 在实际嵌入式开发中，这些线程操作应替换为硬件定时器中断

## 注意事项

- 编译需要C++11及以上标准
- 需要链接pthread库（-pthread）
- 实际嵌入式开发中需要适配具体的硬件平台 